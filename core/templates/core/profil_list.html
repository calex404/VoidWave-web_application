{% extends "base.html" %}

{% block title %}Zoznam Profilov{% endblock %}

{% block content %}
    <div style="max-width: 900px; margin: 30px auto; padding: 20px; background: var(--color-surface); border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.5);">
        
        <h1 style="margin-top: 0; border-bottom: 2px solid var(--color-border); padding-bottom: 15px; color: var(--color-text-main);">
            {% if hladame_priatelov %}
                üîç Prida≈• nov√Ωch priateƒæov
            {% else %}
                üë• Zoznam v≈°etk√Ωch profilov
            {% endif %}
        </h1>

        {% if hladame_priatelov %}
            <div style="margin-bottom: 20px;">
                <a href="{% url 'profil_list' %}" style="text-decoration: none; color: var(--color-text-main);">‚Üê Sp√§≈• na ƒçist√Ω zoznam</a>
            </div>
        {% endif %}

        {% for profil in profily %}
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 10px; border-bottom: 1px solid var(--color-border);">
                
                <a href="{% url 'profil_detail' profil.id %}" style="font-size: 1.2em; font-weight: bold; color: var(--color-accent); text-decoration: none;">
                    {{ profil.nickname }}
                </a>

                {% if hladame_priatelov %}
                    <form method="post" action="{% url 'send_friend_request' profil.id %}">
                        {% csrf_token %}
                        <button type="submit" style="background-color: var(--color-success); color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: bold;">
                            + Prida≈•
                        </button>
                    </form>
                {% endif %}

            </div>
        {% empty %}
            <p style="text-align: center; color: var(--color-text-main);">≈Ωiadne profily.</p>
        {% endfor %}

    </div>
    {% endblock content %}
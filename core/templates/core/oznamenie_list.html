{% extends "base.html" %}

{% block title %}Centrum Ozn√°men√≠{% endblock %}

{% block content %}
    <div style="max-width: 800px; margin: 30px auto; padding: 25px; background: var(--color-surface); border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.5);">
        
        <h1 style="text-align: center; color: var(--color-text-main); margin-bottom: 30px; border-bottom: 2px solid var(--color-border); padding-bottom: 15px;">
            üì¨ Centrum Ozn√°men√≠
        </h1>

        {% if ziadosti %}
            <div style="background-color: var(--color-accent); border: 1px solid var(--color-link); padding: 20px; border-radius: 8px; margin-bottom: 30px;">
                <h3 style="margin-top: 0; color: var(--color-text-main);">üëã Nov√© ≈æiadosti o priateƒæstvo</h3>
                
                {% for ziadost in ziadosti %}
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--color-border);">
                        <span style="color: var(--color-text-main);">
                            <strong>{{ ziadost.od_koho.nickname }}</strong> si ≈•a chce prida≈•.
                        </span>
                        <div>
                            <a href="{% url 'accept_friend_request' ziadost.id %}" style="background-color: var(--color-success); color: white; padding: 5px 10px; border-radius: 4px; text-decoration: none; font-weight: bold; margin-right: 5px;">Prija≈•</a>
                            <a href="{% url 'reject_friend_request' ziadost.id %}" style="background-color: var(--color-reject); color: white; padding: 5px 10px; border-radius: 4px; text-decoration: none; font-weight: bold;">Odmietnu≈•</a>
                        </div>
                    </div>
                {% empty %}
                    {% endfor %}
            </div>
        {% endif %}

        {% if moje_urgentne %}
            <div style="background-color: var(--color-surface); border: 1px solid var(--color-accent); padding: 20px; border-radius: 8px;">
                <h3 style="margin-top: 0; color: var(--color-link);">‚ö†Ô∏è Tvoje akcie (Najbli≈æ≈°√≠ch 24h)</h3>
                
                {% for ud in moje_urgentne %}
                    <div style="padding: 10px 0; border-bottom: 1px solid var(--color-border); display: flex; justify-content: space-between;">
                        <div style="color: var(--color-text-main);">
                            <strong>{{ ud.datum_konania|date:"H:i" }}</strong> ‚Äì {{ ud.nazov }}
                            <span style="font-size: 0.9em; color: var(--color-text-main);">({{ ud.hra.nazov }})</span>
                        </div>
                        <a href="{% url 'hodnotenie_create' ud.id %}" style="color: var(--color-accent); text-decoration: underline;">Detail</a>
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        {% if not ziadosti and not moje_urgentne %}
            <div style="text-align: center; padding: 40px; color: var(--color-text-main);">
                <h3>‚úÖ V≈°etko vybaven√©</h3>
                <p>Moment√°lne ≈•a neƒçakaj√∫ ≈æiadne urgentn√© akcie ani ≈æiadosti.</p>
            </div>
        {% endif %}

    </div>
    {% endblock content %}